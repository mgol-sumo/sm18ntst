{"version":3,"sources":["App.tsx","index.tsx","utils.tsx"],"names":["enablePhraseInContextEditor","script","document","createElement","textContent","body","appendChild","enableLokaliseInContextEditor","App","numberOfQueries","setNumberOfQueries","useState","numberOfCars","setNumberOfCars","urlMode","URLSearchParams","window","location","search","get","className","onClick","type","value","onChange","ev","parseInt","currentTarget","id","values","count","b","param","numberOfKeys","joinedKeys","genderOfUser","ReactDOM","render","StrictMode","locale","messages","flattenMessages","nestedMessages","prefix","mode","Object","keys","reduce","key","prefixedKey","finalValue","replace","assign","create","icpOrigEnI18n","icpIcuEnI18n","traceDetailsOrigEnI18n","traceDetailsIcuEnI18n","exampleEnI18n","includes","getElementById"],"mappings":"g/HAIA,MAAMA,EAA8B,KAClC,MAAMC,EAASC,SAASC,cAAc,UACtCF,EAAOG,YAAe,mfAqBtBF,SAASG,KAAKC,YAAYL,IAGtBM,EAAgC,KACpC,MAAMN,EAASC,SAASC,cAAc,UACtCF,EAAOG,YAAe,8XAiBtBF,SAASG,KAAKC,YAAYL,IAyHbO,MAtHf,WACE,MAAOC,EAAiBC,GAAsBC,mBAAS,IAChDC,EAAcC,GAAmBF,mBAAS,GAE3CG,EAAU,IAAIC,gBAAgBC,OAAOC,SAASC,QAAQC,IAAI,QAEhE,OACE,sBAAKC,UAAU,MAAf,UACe,WAAZN,GACC,wBAAQO,QAASrB,EAAjB,6CAIW,aAAZc,GACC,wBAAQO,QAASd,EAAjB,+CAPJ,oBAYE,+BACE,uCACQ,IACN,uBACEe,KAAK,SACLC,MAAOX,EACPY,SAAWC,GAAOZ,EAAgBa,SAASD,EAAGE,cAAcJ,aAGhE,6BACE,cAAC,IAAD,CACEK,GAAI,+BACJC,OAAQ,CAAEjB,oBAGd,6BACE,cAAC,IAAD,CACEgB,GAAI,+BACJC,OAAQ,CAAEjB,oBAGd,6BACE,cAAC,IAAD,CACEgB,GAAI,+BACJC,OAAQ,CAAEjB,oBAGd,6BACE,cAAC,IAAD,CACEgB,GAAI,+BACJC,OAAQ,CAAEjB,oBAGd,6BACE,cAAC,IAAD,CACEgB,GAAI,mDACJC,OAAQ,OAGZ,6BACE,cAAC,IAAD,CACED,GAAI,uDAGR,6BACE,cAAC,IAAD,CACEA,GACE,wEAEFC,OAAQ,CAAEC,MAAO,GAAIC,EAAIC,GAAoB,4BAAIA,SAGrD,6BACE,cAAC,IAAD,CACEJ,GAAI,uDACJC,OAAQ,CAAEC,MAAO,OAGrB,6BACE,cAAC,IAAD,CACEF,GACE,iEAEFC,OAAQ,CAAEI,aAAc,EAAGC,WAAY,kBAG3C,0CACW,IACT,uBACEZ,KAAK,SACLC,MAAOd,EACPe,SAAWC,GACTf,EAAmBgB,SAASD,EAAGE,cAAcJ,aAInD,6BACE,cAAC,IAAD,CACEK,GAAI,gCACJC,OAAQ,CAAEpB,uBAGd,6BACE,cAAC,IAAD,CACEmB,GAAI,yCACJC,OAAQ,CAAEM,aAAc,cAG5B,6BACE,cAAC,IAAD,CACEP,GAAI,wCACJC,OAAQ,CAAEM,aAAc,qB,wCCrJpC,MAAMrB,EAAU,IAAIC,gBAAgBC,OAAOC,SAASC,QAAQC,IAAI,QAEhEiB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CACEC,OAAQ,KACRC,SCbC,SAASC,EACdC,EACAC,EAAS,GACTC,EAAqB,WAErB,OAAuB,OAAnBF,EACK,GAEFG,OAAOC,KAAKJ,GAAgBK,QAAO,CAACP,EAAUQ,KACnD,MAAMzB,EAAQmB,EAAeM,GACvBC,EAAcN,EAAU,GAAEA,KAAUK,IAAQA,EAElD,GAAqB,kBAAVzB,EAAoB,CAC7B,IAAI2B,EAEFA,EADW,WAATN,EACY,gBAAeK,EAAYE,QAAQ,WAAY,UAC3C,aAATP,EACK,OAAMK,EAAYE,QAAQ,WAAY,UAEvC5B,EAEfsB,OAAOO,OAAOZ,EAAU,CACtB,CAACS,GAAcC,SAGjBL,OAAOO,OAAOZ,EAAUC,EAAgBlB,EAAO0B,EAAaL,IAG9D,OAAOJ,IACNK,OAAOQ,OAAO,ODhBHZ,CACR,CACEa,gBACAC,eACAC,yBACAC,wBACAC,iBAEF,GC3BqB,CAAC,UAAW,SAAU,YD4B7BC,SAAS7C,GAClBA,EACD,WAbR,SAgBE,cAAC,EAAD,QAGJZ,SAAS0D,eAAe,W","file":"static/js/main.75cf5ab7.chunk.js","sourcesContent":["import { useState } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport './App.css';\n\nconst enablePhraseInContextEditor = () => {\n  const script = document.createElement('script');\n  script.textContent = `\nwindow.PHRASEAPP_CONFIG = {\n  projectId: '0ae1bae95e54c0c6e1cf0ab19af0ad68',\n  autoLowercase: false,\n};\n\n(function () {\n  var phraseapp = document.createElement('script');\n  phraseapp.type = 'text/javascript';\n  phraseapp.async = true;\n\n  phraseapp.src = [\n    'https://',\n    'phraseapp.com/assets/in-context-editor/2.0/app.js?',\n    new Date().getTime(),\n  ].join('');\n\n  var s = document.getElementsByTagName('script')[0];\n  s.parentNode.insertBefore(phraseapp, s);\n})();\n`;\n  document.body.appendChild(script);\n};\n\nconst enableLokaliseInContextEditor = () => {\n  const script = document.createElement('script');\n  script.textContent = `\nwindow.LOKALISE_CONFIG = {\n  projectId: '355872176153575064dd66.44989265',\n  locale: 'en',\n  plainKey: true,\n};\n(function () {\n  var a = document.createElement('script');\n  a.type = 'text/javascript';\n  a.async = !0;\n  a.src = [\n    'https://app.lokalise.com/live-js/script.min.js?',\n    new Date().getTime(),\n  ].join('');\n  document.body.appendChild(a);\n})();\n`;\n  document.body.appendChild(script);\n};\n\nfunction App() {\n  const [numberOfQueries, setNumberOfQueries] = useState(0);\n  const [numberOfCars, setNumberOfCars] = useState(0);\n\n  const urlMode = new URLSearchParams(window.location.search).get('mode');\n\n  return (\n    <div className=\"App\">\n      {urlMode === 'phrase' && (\n        <button onClick={enablePhraseInContextEditor}>\n          Enable Phrase in-context editor\n        </button>\n      )}\n      {urlMode === 'lokalise' && (\n        <button onClick={enableLokaliseInContextEditor}>\n          Enable Lokalise in-context editor\n        </button>\n      )}\n      Example messages:\n      <ul>\n        <li>\n          Cars:{' '}\n          <input\n            type=\"number\"\n            value={numberOfCars}\n            onChange={(ev) => setNumberOfCars(parseInt(ev.currentTarget.value))}\n          />\n        </li>\n        <li>\n          <FormattedMessage\n            id={'exampleEnI18n.carsAvailable1'}\n            values={{ numberOfCars }}\n          />\n        </li>\n        <li>\n          <FormattedMessage\n            id={'exampleEnI18n.carsAvailable2'}\n            values={{ numberOfCars }}\n          />\n        </li>\n        <li>\n          <FormattedMessage\n            id={'exampleEnI18n.carsAvailable3'}\n            values={{ numberOfCars }}\n          />\n        </li>\n        <li>\n          <FormattedMessage\n            id={'exampleEnI18n.carsAvailable4'}\n            values={{ numberOfCars }}\n          />\n        </li>\n        <li>\n          <FormattedMessage\n            id={'traceDetailsIcuEnI18n.servicesContribution.title'}\n            values={{}}\n          />\n        </li>\n        <li>\n          <FormattedMessage\n            id={'traceDetailsIcuEnI18n.servicesContribution.title'}\n          />\n        </li>\n        <li>\n          <FormattedMessage\n            id={\n              'traceDetailsIcuEnI18n.spansFiltering.spansNumberForTagNameAggregation'\n            }\n            values={{ count: 42, b: (param: 'string') => <b>{param}</b> }}\n          />\n        </li>\n        <li>\n          <FormattedMessage\n            id={'icpIcuEnI18n.signals.dimensionalExplanations.getKeys'}\n            values={{ count: 6 }}\n          />\n        </li>\n        <li>\n          <FormattedMessage\n            id={\n              'icpIcuEnI18n.signals.dimensionalExplanations.getSummaryTweaked'\n            }\n            values={{ numberOfKeys: 3, joinedKeys: 'a, b and c' }}\n          />\n        </li>\n        <li>\n          Queries:{' '}\n          <input\n            type=\"number\"\n            value={numberOfQueries}\n            onChange={(ev) =>\n              setNumberOfQueries(parseInt(ev.currentTarget.value))\n            }\n          />\n        </li>\n        <li>\n          <FormattedMessage\n            id={'exampleEnI18n.matchingQueries'}\n            values={{ numberOfQueries }}\n          />\n        </li>\n        <li>\n          <FormattedMessage\n            id={'exampleEnI18n.userFoundMatchingQueries'}\n            values={{ genderOfUser: 'female' }}\n          />\n        </li>\n        <li>\n          <FormattedMessage\n            id={'exampleEnI18n.userFoundAMatchingQuery'}\n            values={{ genderOfUser: 'female' }}\n          />\n        </li>\n      </ul>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { IntlProvider } from 'react-intl';\nimport './index.css';\nimport App from './App';\nimport icpOrigEnI18n from './i18n/icp.orig.en.i18n.json';\nimport icpIcuEnI18n from './i18n/icp.icu.en.i18n.json';\nimport traceDetailsOrigEnI18n from './i18n/traceDetails.orig.en.i18n.json';\nimport traceDetailsIcuEnI18n from './i18n/traceDetails.icu.en.i18n.json';\nimport exampleEnI18n from './i18n/example1.en.i18n.json';\nimport { flattenMessages, messagesModes } from './utils';\nimport type { MessagesMode } from './utils';\n\nconst urlMode = new URLSearchParams(window.location.search).get('mode');\n\nReactDOM.render(\n  <React.StrictMode>\n    <IntlProvider\n      locale={'en'}\n      messages={flattenMessages(\n        {\n          icpOrigEnI18n,\n          icpIcuEnI18n,\n          traceDetailsOrigEnI18n,\n          traceDetailsIcuEnI18n,\n          exampleEnI18n,\n        },\n        '',\n        messagesModes.includes(urlMode as MessagesMode)\n          ? (urlMode as MessagesMode)\n          : 'default',\n      )}\n    >\n      <App />\n    </IntlProvider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","export const messagesModes = ['default', 'phrase', 'lokalise'] as const;\nexport type MessagesMode = typeof messagesModes[number];\n\n// react-intl V2+ doesn't support nested objects\n// So we need to flatten the messages object before using in the code\n// source: https://formatjs.io/docs/react-intl/upgrade-guide-2x/#flatten-messages-object\nexport function flattenMessages(\n  nestedMessages: Record<string, any>,\n  prefix = '',\n  mode: MessagesMode = 'default',\n) {\n  if (nestedMessages === null) {\n    return {};\n  }\n  return Object.keys(nestedMessages).reduce((messages, key) => {\n    const value = nestedMessages[key];\n    const prefixedKey = prefix ? `${prefix}.${key}` : key;\n\n    if (typeof value === 'string') {\n      let finalValue;\n      if (mode === 'phrase') {\n        finalValue = `'{{'__phrase_${prefixedKey.replace(/^[^.]+\\./, '')}__}}`;\n      } else if (mode === 'lokalise') {\n        finalValue = `'{'.${prefixedKey.replace(/^[^.]+\\./, '')}.'}'`;\n      } else {\n        finalValue = value;\n      }\n      Object.assign(messages, {\n        [prefixedKey]: finalValue,\n      });\n    } else {\n      Object.assign(messages, flattenMessages(value, prefixedKey, mode));\n    }\n\n    return messages;\n  }, Object.create(null));\n}\n"],"sourceRoot":""}